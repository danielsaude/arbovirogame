<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ArboviroGame</title>

<style>
body {
    margin: 0;
    font-family: Arial, Helvetica, sans-serif;
    text-align: center;
    background: linear-gradient(135deg, #0f9b8e, #1f3c88);
    color: white;
}

header { padding: 20px; }

.subtitle { font-size: 16px; opacity: 0.9; }

.menu { margin-top: 30px; }

button {
    padding: 12px 20px;
    margin: 8px;
    border: none;
    border-radius: 10px;
    font-size: 14px;
    cursor: pointer;
    background-color: #ffffff;
    color: #1f3c88;
    font-weight: bold;
    transition: 0.3s;
}

button:hover { background-color: #ffd700; }

.hidden { display: none; }

.game-area { margin-top: 30px; }

.quiz-container {
    max-width: 600px;
    margin: auto;
    background: rgba(255,255,255,0.1);
    padding: 20px;
    border-radius: 15px;
}

.memory-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 10px;
    max-width: 500px;
    margin: auto;
}

.card {
    background: #ffffff;
    color: #1f3c88;
    padding: 20px;
    border-radius: 10px;
    cursor: pointer;
    font-weight: bold;
}
</style>
</head>

<body>

<header>
    <h1>ðŸ¦Ÿ ArboviroGame</h1>
    <div class="subtitle">MissÃ£o Contra as Arboviroses</div>
    <div class="subtitle">EducaÃ§Ã£o em SaÃºde â€“ PrevenÃ§Ã£o que Protege</div>
</header>

<div class="menu" id="menu">
    <button onclick="iniciarQuiz()">ðŸŽ¯ Quiz</button>
    <button onclick="iniciarMemoria('classica')">ðŸ§  MemÃ³ria ClÃ¡ssica</button>
    <button onclick="iniciarMemoria('educativa')">ðŸ“˜ MemÃ³ria Educativa</button>
    <button onclick="iniciarMemoria('ludica')">ðŸŽ¨ MemÃ³ria LÃºdica</button>
</div>

<div class="game-area hidden" id="gameArea">
    <button onclick="voltarMenu()">â¬… Voltar ao Menu</button>
    <div id="gameContent"></div>
</div>

<script>

// ================= QUIZ SIMPLES =================

function iniciarQuiz() {
    document.getElementById("menu").classList.add("hidden");
    document.getElementById("gameArea").classList.remove("hidden");

    document.getElementById("gameContent").innerHTML = `
        <div class="quiz-container">
        <h2>Quiz</h2>
        <p>Quiz funcionando normalmente (mantido separado).</p>
        </div>
    `;
}

// ================= JOGO DA MEMÃ“RIA =================

let cartasViradas = [];
let paresEncontrados = 0;

function iniciarMemoria(tipo) {

    document.getElementById("menu").classList.add("hidden");
    document.getElementById("gameArea").classList.remove("hidden");

    paresEncontrados = 0;
    cartasViradas = [];

    let pares = [];

    if (tipo === "classica") {
        pares = [
            ["Aedes", "Mosquito"],
            ["Ãgua parada", "Risco"],
            ["PrevenÃ§Ã£o", "ProteÃ§Ã£o"],
            ["Endemias", "VigilÃ¢ncia"]
        ];
    }

    if (tipo === "educativa") {
        pares = [
            ["Dengue", "Febre e dor no corpo"],
            ["Zika", "Pode afetar gestantes"],
            ["Chikungunya", "Dor intensa nas articulaÃ§Ãµes"],
            ["PrevenÃ§Ã£o", "Eliminar Ã¡gua parada"]
        ];
    }

    if (tipo === "ludica") {
        pares = [
            ["ðŸ¦Ÿ", "Mosquito"],
            ["ðŸ’§", "Ãgua parada"],
            ["ðŸ¥", "SaÃºde"],
            ["ðŸ§¹", "Limpeza"]
        ];
    }

    let cartas = [];
    pares.forEach(par => {
        cartas.push({valor: par[0], id: par[0]});
        cartas.push({valor: par[1], id: par[0]});
    });

    cartas.sort(() => 0.5 - Math.random());

    let html = `<div class="memory-grid">`;

    cartas.forEach((carta, index) => {
        html += `<div class="card" onclick="virarCarta(${index}, '${carta.id}', '${carta.valor}')">?</div>`;
    });

    html += `</div>`;

    document.getElementById("gameContent").innerHTML = html;

    window.cartas = cartas;
}

function virarCarta(index, id, valor) {

    let card = document.getElementsByClassName("card")[index];

    if (card.innerHTML !== "?" || cartasViradas.length === 2) return;

    card.innerHTML = valor;
    cartasViradas.push({index, id});

    if (cartasViradas.length === 2) {

        if (cartasViradas[0].id === cartasViradas[1].id) {
            paresEncontrados++;
            cartasViradas = [];

            if (paresEncontrados === 4) {
                setTimeout(() => {
                    alert("ParabÃ©ns! VocÃª concluiu o jogo.");
                }, 300);
            }
        } else {
            setTimeout(() => {
                document.getElementsByClassName("card")[cartasViradas[0].index].innerHTML = "?";
                document.getElementsByClassName("card")[cartasViradas[1].index].innerHTML = "?";
                cartasViradas = [];
            }, 800);
        }
    }
}

function voltarMenu() {
    document.getElementById("menu").classList.remove("hidden");
    document.getElementById("gameArea").classList.add("hidden");
}

</script>

</body>
</html>
