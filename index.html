<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ArboviroGame</title>

<style>
body {
    margin: 0;
    font-family: Arial, Helvetica, sans-serif;
    text-align: center;
    background: linear-gradient(135deg, #0f9b8e, #1f3c88);
    color: white;
}

header { padding: 20px; }

.subtitle { font-size: 16px; opacity: 0.9; }

.menu { margin-top: 30px; }

button {
    padding: 12px 20px;
    margin: 8px;
    border: none;
    border-radius: 10px;
    font-size: 14px;
    cursor: pointer;
    background-color: #ffffff;
    color: #1f3c88;
    font-weight: bold;
    transition: 0.3s;
}

button:hover { background-color: #ffd700; }

.hidden { display: none; }

.game-area { margin-top: 30px; }

.quiz-container {
    max-width: 600px;
    margin: auto;
    background: rgba(255,255,255,0.1);
    padding: 20px;
    border-radius: 15px;
}

.memory-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 10px;
    max-width: 500px;
    margin: auto;
}

.card {
    background: #ffffff;
    color: #1f3c88;
    padding: 20px;
    border-radius: 10px;
    cursor: pointer;
    font-weight: bold;
}
</style>
</head>

<body>

<header>
<h1>ü¶ü ArboviroGame</h1>
<div class="subtitle">Miss√£o Contra as Arboviroses</div>
<div class="subtitle">Educa√ß√£o em Sa√∫de ‚Äì Preven√ß√£o que Protege</div>
</header>

<div class="menu" id="menu">
<button onclick="iniciarQuiz()">üéØ Quiz</button>
<button onclick="verRanking()">üèÜ Ranking</button>
<button onclick="iniciarMemoria('classica')">üß† Mem√≥ria Cl√°ssica</button>
<button onclick="iniciarMemoria('educativa')">üìò Mem√≥ria Educativa</button>
<button onclick="iniciarMemoria('ludica')">üé® Mem√≥ria L√∫dica</button>
</div>

<div class="game-area hidden" id="gameArea">
<button onclick="voltarMenu()">‚¨Ö Voltar ao Menu</button>
<div id="gameContent"></div>
</div>

<script>

// ==========================
// BANCO DE PERGUNTAS
// ==========================

let bancoPerguntas = [
{ pergunta:"Qual mosquito transmite Dengue?", opcoes:["Aedes aegypti","Pernilongo"], correta:0 },
{ pergunta:"Onde o mosquito se reproduz?", opcoes:["√Ågua parada","Areia seca"], correta:0 },
{ pergunta:"Sintoma comum da dengue?", opcoes:["Febre alta","Dor no dente"], correta:0 },
{ pergunta:"Caixa d'√°gua deve estar?", opcoes:["Tampada","Aberta"], correta:0 },
{ pergunta:"Preven√ß√£o depende de?", opcoes:["Comunidade","Somente hospital"], correta:0 }
];

let perguntas = [];
let perguntaAtual = 0;
let pontuacao = 0;
let nomeJogador = "";

// ==========================
// QUIZ
// ==========================

function iniciarQuiz() {
document.getElementById("menu").classList.add("hidden");
document.getElementById("gameArea").classList.remove("hidden");

nomeJogador = prompt("Digite seu nome:");
if(!nomeJogador) nomeJogador = "Visitante";

perguntas = [...bancoPerguntas].sort(() => 0.5 - Math.random());
perguntaAtual = 0;
pontuacao = 0;

mostrarPergunta();
}

function mostrarPergunta() {

let p = perguntas[perguntaAtual];

let html = `<div class="quiz-container">
<h2>Quiz</h2>
<p><strong>${p.pergunta}</strong></p>`;

p.opcoes.forEach((opcao, i) => {
html += `<button onclick="responder(${i})">${opcao}</button><br>`;
});

html += `</div>`;

document.getElementById("gameContent").innerHTML = html;
}

function responder(i) {

if(i === perguntas[perguntaAtual].correta) pontuacao++;

perguntaAtual++;

if(perguntaAtual < perguntas.length) {
mostrarPergunta();
} else {
finalizarQuiz();
}
}

function finalizarQuiz() {

let ranking = JSON.parse(localStorage.getItem("ranking") || "[]");

ranking.push({nome:nomeJogador, pontos:pontuacao});
ranking.sort((a,b)=>b.pontos-a.pontos);

localStorage.setItem("ranking", JSON.stringify(ranking));

document.getElementById("gameContent").innerHTML = `
<div class="quiz-container">
<h2>Resultado</h2>
<p>${nomeJogador}, voc√™ fez ${pontuacao} pontos.</p>
<button onclick="verRanking()">Ver Ranking</button>
</div>`;
}

// ==========================
// RANKING
// ==========================

function verRanking(){

let ranking = JSON.parse(localStorage.getItem("ranking") || "[]");

let html = `<div class="quiz-container"><h2>Ranking</h2>`;

ranking.forEach((j,i)=>{
html += `<p>${i+1}¬∫ - ${j.nome} (${j.pontos} pts)</p>`;
});

html += `</div>`;

document.getElementById("menu").classList.add("hidden");
document.getElementById("gameArea").classList.remove("hidden");
document.getElementById("gameContent").innerHTML = html;
}

// ==========================
// MEM√ìRIA
// ==========================

let cartasViradas = [];
let pares = 0;
let cartas = [];

function iniciarMemoria(tipo){

document.getElementById("menu").classList.add("hidden");
document.getElementById("gameArea").classList.remove("hidden");

cartasViradas = [];
pares = 0;

let base = [];

if(tipo==="classica"){
base=[["Aedes","Mosquito"],["√Ågua","Risco"],["Preven√ß√£o","Prote√ß√£o"],["Endemias","Vigil√¢ncia"]];
}
if(tipo==="educativa"){
base=[["Dengue","Febre"],["Zika","Gestantes"],["Chikungunya","Articula√ß√µes"],["Preven√ß√£o","Eliminar √°gua"]];
}
if(tipo==="ludica"){
base=[["ü¶ü","Mosquito"],["üíß","√Ågua"],["üè•","Sa√∫de"],["üßπ","Limpeza"]];
}

cartas=[];

base.forEach(p=>{
cartas.push({id:p[0],valor:p[0]});
cartas.push({id:p[0],valor:p[1]});
});

cartas.sort(()=>0.5-Math.random());

let html=`<div class="memory-grid">`;

cartas.forEach((c,i)=>{
html+=`<div class="card" onclick="virar(${i})">?</div>`;
});

html+=`</div>`;

document.getElementById("gameContent").innerHTML=html;
}

function virar(i){

let elementos=document.getElementsByClassName("card");

if(elementos[i].innerHTML!=="?"||cartasViradas.length===2)return;

elementos[i].innerHTML=cartas[i].valor;
cartasViradas.push(i);

if(cartasViradas.length===2){

let c1=cartas[cartasViradas[0]];
let c2=cartas[cartasViradas[1]];

if(c1.id===c2.id){
pares++;
cartasViradas=[];
if(pares===4)setTimeout(()=>alert("Parab√©ns!"),300);
}else{
setTimeout(()=>{
elementos[cartasViradas[0]].innerHTML="?";
elementos[cartasViradas[1]].innerHTML="?";
cartasViradas=[];
},800);
}
}
}

// ==========================

function voltarMenu(){
document.getElementById("menu").classList.remove("hidden");
document.getElementById("gameArea").classList.add("hidden");
}

</script>

</body>
</html>
