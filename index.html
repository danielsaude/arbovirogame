<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ArboviroGame ‚Äì Miss√£o Contra as Arboviroses</title>

<style>
body{
margin:0;
font-family:Arial,Helvetica,sans-serif;
background:linear-gradient(135deg,#0f9b8e,#1f3c88);
color:white;
text-align:center;
}

header{padding:20px;}

.menu{
display:flex;
flex-wrap:wrap;
justify-content:center;
gap:20px;
margin-top:30px;
padding:20px;
}

.card{
background:rgba(255,255,255,0.1);
padding:25px;
width:220px;
border-radius:15px;
cursor:pointer;
transition:.3s;
}

.card:hover{
background:rgba(255,255,255,0.25);
transform:scale(1.05);
}

.hidden{display:none;}

.game-area{margin-top:20px;padding:20px;}

.quiz-container{
max-width:650px;
margin:auto;
background:rgba(255,255,255,0.1);
padding:25px;
border-radius:15px;
}

button{
padding:10px 18px;
margin:8px;
border:none;
border-radius:10px;
font-size:15px;
cursor:pointer;
background:white;
color:#1f3c88;
font-weight:bold;
}

.correct{background:#4CAF50!important;color:white;}
.wrong{background:#e74c3c!important;color:white;}

input{
padding:8px;
margin:5px;
border-radius:8px;
border:none;
}

.ranking{
background:rgba(0,0,0,0.3);
padding:15px;
border-radius:10px;
margin-top:15px;
text-align:left;
}
</style>
</head>

<body>

<header>
<h1>ü¶ü ArboviroGame</h1>
<p>Miss√£o Contra as Arboviroses</p>
</header>

<div class="menu" id="menu">
<div class="card" onclick="iniciarQuiz()">üéØ<br><strong>Quiz</strong></div>
<div class="card" onclick="mostrarRanking()">üèÜ<br><strong>Ranking</strong></div>
</div>

<div class="game-area hidden" id="gameArea">
<button onclick="voltarMenu()">‚¨Ö Voltar</button>
<div id="gameContent"></div>
</div>

<script>

/* ===== BANCO ===== */

let bancoPerguntas=[
{pergunta:"Qual mosquito transmite Dengue, Zika e Chikungunya?",opcoes:["Aedes aegypti","Pernilongo comum","Mosquito da mal√°ria"],correta:0},
{pergunta:"Onde o mosquito deposita ovos?",opcoes:["√Ågua parada limpa","√Ågua corrente","Solo seco"],correta:0},
{pergunta:"Sintoma comum da dengue:",opcoes:["Febre alta","Unha quebradi√ßa","Coceira leve"],correta:0},
{pergunta:"Eliminar √°gua parada:",opcoes:["Impede reprodu√ß√£o","Substitui vacina","Mata v√≠rus no ar"],correta:0},
{pergunta:"Caixa d'√°gua deve estar:",opcoes:["Bem tampada","Destampada","Com furos"],correta:0},
{pergunta:"O Aedes pica mais:",opcoes:["Durante o dia","S√≥ √† noite","No inverno"],correta:0},
{pergunta:"Preven√ß√£o depende:",opcoes:["Da comunidade","S√≥ hospital","S√≥ vacina"],correta:0}
];

let perguntas=[];
let perguntaAtual=0;
let pontuacao=0;
let nomeAluno="";
let turmaAluno="";

/* ===== MENU ===== */

function voltarMenu(){
document.getElementById("menu").classList.remove("hidden");
document.getElementById("gameArea").classList.add("hidden");
document.getElementById("gameContent").innerHTML="";
}

function iniciarQuiz(){
document.getElementById("menu").classList.add("hidden");
document.getElementById("gameArea").classList.remove("hidden");

document.getElementById("gameContent").innerHTML=`
<div class="quiz-container">
<h2>Identifica√ß√£o</h2>
<input type="text" id="nome" placeholder="Nome do aluno"><br>
<input type="text" id="turma" placeholder="Turma"><br>
<button onclick="comecar()">Iniciar Quiz</button>
</div>
`;
}

function comecar(){
nomeAluno=document.getElementById("nome").value;
turmaAluno=document.getElementById("turma").value;

if(nomeAluno===""||turmaAluno===""){
alert("Preencha nome e turma");
return;
}

let copia=[...bancoPerguntas];
copia.sort(()=>0.5-Math.random());
perguntas=copia.slice(0,5);

perguntaAtual=0;
pontuacao=0;
mostrarPergunta();
}

function mostrarPergunta(){
let p=perguntas[perguntaAtual];

let html="<div class='quiz-container'>";
html+="<h2>üéØ Quiz</h2>";
html+="<p><strong>"+p.pergunta+"</strong></p>";

p.opcoes.forEach((op,i)=>{
html+="<button onclick='verificar("+i+")' id='btn"+i+"'>"+op+"</button><br>";
});

html+="</div>";

document.getElementById("gameContent").innerHTML=html;
}

function verificar(i){
if(i===perguntas[perguntaAtual].correta){
pontuacao++;
}

perguntaAtual++;

if(perguntaAtual<perguntas.length){
mostrarPergunta();
}else{
finalizar();
}
}

function finalizar(){
let score=Math.round((pontuacao/perguntas.length)*100);

let ranking=JSON.parse(localStorage.getItem("ranking"))||[];
ranking.push({nome:nomeAluno,turma:turmaAluno,pontos:score});
ranking.sort((a,b)=>b.pontos-a.pontos);
localStorage.setItem("ranking",JSON.stringify(ranking));

document.getElementById("gameContent").innerHTML=`
<div class="quiz-container">
<h2>Resultado</h2>
<p>${nomeAluno} - ${score}%</p>
<button onclick="iniciarQuiz()">Jogar novamente</button>
<button onclick="mostrarRanking()">Ver Ranking</button>
</div>
`;
}

function mostrarRanking(){
document.getElementById("menu").classList.add("hidden");
document.getElementById("gameArea").classList.remove("hidden");

let ranking=JSON.parse(localStorage.getItem("ranking"))||[];

let html="<div class='quiz-container'><h2>üèÜ Ranking Geral</h2>";
html+="<div class='ranking'>";

ranking.slice(0,10).forEach((r,i)=>{
html+=`${i+1}. ${r.nome} - ${r.turma} - ${r.pontos}%<br>`;
});

html+="</div>";
html+="<button onclick='limparRanking()'>Limpar Ranking</button>";
html+="</div>";

document.getElementById("gameContent").innerHTML=html;
}

function limparRanking(){
localStorage.removeItem("ranking");
mostrarRanking();
}

</script>

</body>
</html>
